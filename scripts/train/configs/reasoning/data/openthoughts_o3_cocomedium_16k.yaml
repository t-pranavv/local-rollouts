# total tokens: 606200627 (32k is 566722560)
data_root: ${oc.env:DATA_ROOT, "/mnt/aifshared"}
dataset:
  - cache_dir: ${data_root}/post_train_data/tokenized/o3_mini_medium/oss/openthough_113k/16384       # 356761600 (32k is 333086720 tokens)
    seq_len: 16384
    weight: 1.0
  - cache_dir: ${data_root}/post_train_data/tokenized/o3_mini_medium/code/code_contests_originals/16384       # 55410688 (32k is 84639744 tokens)
    seq_len: 16384
    weight: 1.65
  - cache_dir: ${data_root}/post_train_data/tokenized/o3_mini_medium/code/code_contests_rewrites/16384       # 65994752 (32k is 121503744 tokens)
    seq_len: 16384
    weight: 1.65
  - cache_dir: ${data_root}/post_train_data/tokenized/o3_mini_medium/code/baai_taco_deduped/16384       # 29769728 (32k is 27492352 tokens)
    seq_len: 16384
    weight: 1.65
dataset_concat: random
dataset_provider: lm

# 32k had 233635840 tokens of code per epoch
# 16k would have 151175168 tokens
# To bring code to ot ratio back, upweigh by 1.65
# Total tokens 151175168 * 1.65 + 356761600 = 606200627
